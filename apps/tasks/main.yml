---

- name: Remove old .gitconfig and .gitignore_global if exists
  file:
    path: "{{ ansible_env.HOME }}/{{ item }}"
    state: absent
  with_items:
    - .gitconfig
    - .gitignore_global

- name: Create a symbolic links for git
  file:
    src: "{{ ansible_env.HOME }}/dotfiles/{{ item }}"
    dest: "{{ ansible_env.HOME }}/{{ item }}"
    state: link
  with_items:
    - .gitconfig
    - .gitignore_global

- name: Install tmux
  homebrew:
    update_homebrew: yes
    name: tmux
    state: present

- name: Create a symbolic link to .tmux.conf
  file:
    src: "{{ ansible_env.HOME }}/dotfiles/.tmux.conf"
    dest: "{{ ansible_env.HOME }}/.tmux.conf"
    state: link

- name: Install
  homebrew_cask:
    name: karabiner-elements
    state: present
    install_options: 'debug,appdir=/Applications'